turn_heating_on:
  alias: Turn Heating On
  sequence:
  - service: climate.set_temperature
    entity_id: climate.kitchen
    data_template:
      temperature: '{{ states("input_number.heating_temperature") }}'
      hvac_mode: heat
  - service: climate.set_temperature
    entity_id: climate.vestibule
    data_template:
      temperature: '{{ states("input_number.heating_temperature") }}'
      hvac_mode: heat
  - service: climate.set_temperature
    entity_id: climate.livingroom
    data_template:
      temperature: '{{ states("input_number.heating_temperature") }}'
      hvac_mode: heat
turn_heating_off:
  alias: Turn Heating Off
  sequence:
  - service: climate.set_temperature
    entity_id: climate.vestibule
    data_template:
      temperature: '7'
      hvac_mode: cool
  - service: homeassistant.turn_off
    entity_id: input_boolean.enable_vestibule_schedule
  - service: climate.set_temperature
    entity_id: climate.livingroom
    data_template:
      temperature: '7'
      hvac_mode: cool
  - service: homeassistant.turn_off
    entity_id: input_boolean.enable_livingroom_schedule
  - service: climate.set_temperature
    entity_id: climate.office
    data_template:
      temperature: '7'
      hvac_mode: cool
  - service: homeassistant.turn_off
    entity_id: input_boolean.enable_livingroom_schedule
  - service: climate.set_temperature
    entity_id: climate.kitchen
    data_template:
      temperature: '7'
      hvac_mode: cool
  - service: homeassistant.turn_off
    entity_id: input_boolean.enable_kitchen_schedule
  - service: climate.set_temperature
    entity_id: climate.katrin
    data_template:
      temperature: '7'
      hvac_mode: cool
  - service: homeassistant.turn_off
    entity_id: input_boolean.enable_katrin_schedule
  - service: climate.set_temperature
    entity_id: climate.bedroom
    data_template:
      temperature: '7'
      hvac_mode: cool
  - service: homeassistant.turn_off
    entity_id: input_boolean.enable_bedroom_schedule
home_off:
  alias: Home Off
  sequence:
  - service: homeassistant.turn_off
    data:
      entity_id: group.all_lights
  - service: homeassistant.turn_off
    data:
      entity_id: switch.spiral_lights
  - delay: 00:00:01
  - service: script.all_media_players_off
  - service: homeassistant.turn_off
    data:
      entity_id: switch.spiral_lights
  - service: script.turn_heating_off
  - service: script.all_media_players_off
  - service:  homeassistant.turn_off
    data: 
      entity_id: input_boolean.dev_mode
activate_moron_machine:
  alias: Activate Moron Machine
  sequence:
  - service: media_player.turn_on
    data:
      entity_id: media_player.livingroom_tv
  - delay: 00:00:01
  - service: media_player.turn_on
    data:
      entity_id: media_player.squiggley_amp
  - delay: 00:00:02
  - service: media_player.turn_on
    data:
      entity_id: media_player.marvin
  - service: switch.turn_on
    data:
      entity_id: switch.ambilight_relay
  - service: media_player.select_source
    data:
      entity_id: media_player.squiggley_amp
      source: "livingroom kodi"
deactivate_moron_machine:
  alias: Deactivate Moron Machine
  sequence:
  - service: media_player.turn_off
    entity_id:
    - media_player.marvin
#  - delay: 00:00:20
  - service: media_player.turn_off
    entity_id:
    - media_player.squiggley_amp
  - service: media_player.turn_off
    entity_id:
    - media_player.livingroom_tv
  - service: switch.turn_off
    data:
      entity_id: switch.ambilight_relay
all_media_players_off:
  alias: turn Off All Media Players
  sequence:
  - service: script.deactivate_moron_machine
  - service: media_player.turn_off
    data:
      entity_id: media_player.marvin
send_message_to_ui_selected_user:
  alias: Send a message entered in the ui to the user selected in the ui
  sequence:
    service_template: 'notify.{{states("input_select.home_users")}}'
    data_template:
      title: "Message From Home Assistant"
      message: '{{states.input_text.send_message.state}}'
kr_volume_up:
  alias: Volume Up
  sequence:
    data:
      entity_id: media_player.zaphod
    service: media_player.volume_up
kr_volume_mute:
  alias: Volume Mute
  sequence:
    data:
      entity_id: media_player.zaphod
    service: media_player.volume_mute
kr_volume_down:
  alias: Volume Down
  sequence:
    data:
      entity_id: media_player.zaphod
    service: media_player.volume_down
kr_up:
  alias: Remote Up
  sequence:
    data:
      entity_id: media_player.zaphod
      method: Input.Up
    service: media_player.kodi_call_method
kr_down:
  alias: Remote Down
  sequence:
    data:
      entity_id: media_player.zaphod
      method: Input.Down
    service: media_player.kodi_call_method
kr_left:
  alias: Remote Left
  sequence:
    data:
      entity_id: media_player.zaphod
      method: Input.Left
    service: media_player.kodi_call_method
kr_right:
  alias: Remote Right
  sequence:
    data:
      entity_id: media_player.zaphod
      method: Input.Right
    service: media_player.kodi_call_method
kr_select:
  alias: Remote Select
  sequence:
    data:
      entity_id: media_player.zaphod
      method: Input.Select
    service: media_player.kodi_call_method
kr_home:
  alias: Remote Home
  sequence:
    data:
      entity_id: media_player.zaphod
      method: Input.Home
    service: media_player.kodi_call_method
kr_back:
  alias: Remote Back
  sequence:
    data:
      entity_id: media_player.zaphod
      method: Input.Back
    service: media_player.kodi_call_method
kr_next:
  alias: Remote Next
  sequence:
    data:
      entity_id: media_player.zaphod
    service: media_player.media_next_track
kr_prev:
  alias: Remote Prev
  sequence:
    data:
      entity_id: media_player.zaphod
    service: media_player.media_previous_track
kr_play_pause:
  alias: Remote PlayPause
  sequence:
    data:
      entity_id: media_player.zaphod
    service: media_player.media_play_pause
kr_stop:
  alias: Remote Stop
  sequence:
    data:
      entity_id: media_player.zaphod
    service: media_player.media_stop
kr_playlist:
  alias: Remote Playlist
  sequence:
    data:
      entity_id: media_player.zaphod
      method: Audio.Details.Album
    service: media_player.kodi_call_method
update_locations:
  alias: Request mobile devices location update
  sequence:
  - service: notify.wee_bear
    data:
      message: "request_location_update"
  - service: notify.squiggley
    data:
      message: "request_location_update"
flash_gateway:
  alias: Flash Xioami Gateway
  sequence:
    - service: light.turn_on
      data:
        color_name: blue
        brightness_pct: '40'
        transition: 5
        entity_id: light.xiaomi_gateway_light
    - service: light.turn_on
      data:
        color_name: blue
        brightness_pct: '0'
        transition: 5
        entity_id: light.xiaomi_gateway_light
